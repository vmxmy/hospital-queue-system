# 医院智能导航系统产品需求文档 (PRD)

## 1. 产品概述

### 1.1 产品背景
医院检查科室分散，患者对检查流程不熟悉，常因路径混乱导致等待时间过长。传统排队模式依赖人工调度，效率低且无法动态响应实时数据（如突发设备故障、检查室拥堵等）。

### 1.2 产品愿景
打造智能化医院导航与排队系统，通过技术手段优化患者检查路径，减少无效等待时间，提升医疗资源利用效率，改善患者就医体验。

### 1.3 目标用户
- 医院检查患者（尤其是需要多项检查的患者）
- 医院管理人员
- 医护人员

### 1.4 产品目标
- 缩短患者院内停留时间：通过智能路径规划，减少无效移动和等待
- 优化资源利用率：动态平衡各检查科室负载，避免局部拥堵
- 提升患者体验：提供实时导航指引和进度提醒

## 2. 功能需求

### 2.1 数据整合层
#### 2.1.1 医院系统对接
- 对接医院HIS/PACS系统，获取患者检查项目、科室位置、历史等待时间等数据
- 优先级：P0
- 交付标准：能够稳定获取患者的检查项目列表、科室位置坐标、历史检查耗时数据

#### 2.1.2 实时数据采集
- 通过IoT传感器或科室终端上报排队人数、设备状态
- 优先级：P0
- 交付标准：能够实时获取各检查科室的排队人数和设备运行状态（正常/故障）

### 2.2 实时监测与预测
#### 2.2.1 排队状态监测
- 动态采集各检查科室排队人数、设备状态
- 优先级：P0
- 交付标准：排队人数变动在30秒内更新，设备状态变动在1分钟内更新

#### 2.2.2 等待时间预测
- 基于机器学习模型预测未来1-2小时各科室等待时间
- 优先级：P1
- 交付标准：等待时间预测误差不超过20%

### 2.3 智能路径规划引擎
#### 2.3.1 路径规划算法
- 根据患者检查项目、优先级（急诊/普通）、实时等待数据，生成最优检查顺序和路径
- 优先级：P0
- 交付标准：综合考虑距离、等待时间、检查依赖关系生成最优路径，平均可节省患者20%的院内时间

#### 2.3.2 动态路径调整
- 根据实时变化的等待情况和设备状态，动态调整患者的检查路径
- 优先级：P1
- 交付标准：环境变化后3分钟内推送最新路径

### 2.4 患者终端交互
#### 2.4.1 移动端应用
- 提供手机APP/小程序导航功能
- 优先级：P0
- 交付标准：支持iOS/Android主流设备，操作流畅不卡顿

#### 2.4.2 实时路径指引
- 提供地图导航和语音提示
- 优先级：P1
- 交付标准：能够实时显示用户位置和目标科室位置，提供清晰的路径指引

#### 2.4.3 排队进度提醒
- 推送排队进度通知
- 优先级：P1
- 交付标准：当用户排队状态变化时及时推送通知，准确显示剩余等待时间和位置

#### 2.4.4 院内自助终端
- 院内配置自助导航终端
- 优先级：P2
- 交付标准：支持扫码或输入就诊号获取导航信息，界面简洁易用

### 2.5 管理后台
#### 2.5.1 资源监控大屏
- 可视化监控全院检查资源负载
- 优先级：P1
- 交付标准：实时显示各科室排队人数、设备状态，支持热力图展示

#### 2.5.2 人工干预功能
- 支持人工干预（如临时调整优先级或分流患者）
- 优先级：P1
- 交付标准：管理人员可以手动调整患者优先级，修改默认路径规则

#### 2.5.3 数据分析报表
- 提供检查效率、患者流量等数据分析
- 优先级：P2
- 交付标准：可生成日/周/月报表，展示关键绩效指标

## 3. 技术实现方案

### 3.1 数据源整合
- 数据接口：与医院HIS系统对接，获取患者检查单、科室位置坐标、历史检查耗时数据
- 实时数据：通过IoT传感器或科室终端上报排队人数、设备状态

### 3.2 等待时间预测模型
- 输入变量：历史等待时间、当前排队人数、科室容量、医生/设备工作效率、突发事件（如设备故障）
- 算法选择：时间序列模型（如Prophet）或集成学习（如XGBoost）
- 部署位置：云端边缘计算节点

### 3.3 路径规划算法
- 动态权重调整：将科室间距离、预测等待时间、检查项目依赖关系（如空腹要求）转化为权重
- 优化算法：改进的Dijkstra算法（多目标优化）或遗传算法，平衡效率与公平性
- 输出结果：为每位患者生成个性化检查路径并动态更新

### 3.4 终端交互设计
- 患者端：扫码或输入就诊号获取导航路径，支持语音提示和AR实景指引（需蓝牙Beacon或WiFi定位）
- 实时推送：提供排队进度更新（如"您的CT检查预计30分钟后开始，请10分钟内抵达3楼"）
- 医护端：大屏展示全院检查资源热力图，支持手动调整优先级

## 4. 用户流程

### 4.1 患者使用流程
1. 患者完成挂号后，获取检查单
2. 扫描检查单上的二维码，或在自助终端输入就诊号
3. 系统根据患者检查项目，生成最优检查路径
4. 患者按照系统推荐路径进行检查
5. 系统实时更新等待状态，必要时调整路径
6. 患者完成所有检查后退出系统

### 4.2 医院管理人员使用流程
1. 登录管理后台
2. 查看全院检查资源负载情况
3. 针对突发情况（如设备故障、人员紧缺）进行人工干预
4. 调整检查优先级或重新分配患者
5. 查看数据报表，分析改进方向

## 5. 非功能性需求

### 5.1 性能需求
- 路径计算响应时间不超过3秒
- 系统可支持单院区每日5000+患者同时使用
- 系统可用性达到99.9%
- 预测算法准确率达到80%以上

### 5.2 安全需求
- 患者信息加密存储，符合医疗数据安全规范
- 系统访问权限分级控制
- 所有操作留存日志，支持审计

### 5.3 兼容性需求
- 移动应用支持Android 8.0+和iOS 12.0+系统
- 支持主流浏览器访问（Chrome、Safari、Firefox、Edge等）
- 自适应不同屏幕尺寸

## 6. 技术架构

### 6.1 前端技术
- 移动端：React Native或Flutter开发
- 管理后台：React.js + Redux
- 自助终端：HTML5 + CSS3 + JavaScript

### 6.2 后端技术
- 框架：Spring Boot或Django
- 数据库：PostgreSQL或MySQL
- 机器学习部署：TensorFlow Serving或ONNX Runtime
- 消息队列：Kafka或RabbitMQ

### 6.3 负载与并发优化
- 负载均衡：Nginx或HAProxy
- 缓存：Redis
- 分库分表：根据业务需求进行数据库分片
- 微服务架构：使用API Gateway和服务注册
- 容器化：Docker + Kubernetes实现弹性伸缩

## 7. 实施计划

### 7.1 试点阶段（3个月）
- 选择1-2个检查科室（如超声科、放射科）部署传感器和导航终端
- 验证算法准确性
- 收集患者反馈，优化界面交互

### 7.2 全院推广（6个月）
- 分阶段扩展至所有检查科室
- 同步培训医护人员使用管理后台
- 持续优化算法与用户界面

### 7.3 风险应对
- 数据延迟：设置冗余数据通道，本地缓存应急路径
- 系统故障：保留传统人工调度作为备用方案
- 老年患者使用障碍：提供纸质辅助指引，简化操作流程

## 8. 评估指标

### 8.1 患者端
- 平均院内停留时间缩短20%-30%
- 患者投诉率下降15%以上
- 应用使用率达到70%以上

### 8.2 医院端
- 检查科室利用率提升15%
- 人力调度成本降低20%
- 高峰期拥堵情况减少30%

## 9. 未来迭代规划

### 9.1 短期迭代（3-6个月）
- 优化预测算法，提高准确率
- 提升用户界面体验，简化操作流程
- 增加突发情况处理机制

### 9.2 中期规划（6-12个月）
- 接入更多医院场景（如住院部、手术室等）
- 增加多语言支持
- 开发开放API，支持第三方接入

### 9.3 长期规划（1年以上）
- 基于大数据分析，提供医院资源配置建议
- 跨院区、跨医院的联合调度系统
- 引入医疗物联网更多应用场景

## 10. 附录
备注：可根据医院具体需求调整技术细节（如选择低成本二维码导航替代蓝牙定位）。 